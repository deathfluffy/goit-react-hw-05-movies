{"version":3,"file":"static/js/729.cfbdd5d4.chunk.js","mappings":"2LACA,GAAgB,SAAW,2BAA2B,SAAW,2BAA2B,UAAY,6B,SCEzF,SAASA,EAASC,GAAc,IAAXC,EAAMD,EAANC,OAC5BC,GAAWC,EAAAA,EAAAA,MAEjB,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAAA,SAAaC,SACzBN,EAAOO,KAAI,SAAAC,GAAA,IAAGC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAAcH,EAAdG,eAAc,OAC5CR,EAAAA,EAAAA,KAAA,MAAaC,UAAWC,EAAAA,SAAaC,UACnCM,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CAACC,MAAO,CAAEC,KAAMd,GAAYe,GAAE,WAAAC,OAAaR,GAAKH,SAAA,EACnDH,EAAAA,EAAAA,KAAA,OACEC,UAAWC,EAAAA,QACXa,IAAG,mCAAAD,OAAqCP,GACxCS,IAAKR,EACJS,MAAM,MACNC,OAAO,SAEVlB,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAAA,UAAcC,SAAEK,QATzBF,EAWJ,KAIb,C,qICvBA,GAAiB,E,SCEF,SAASa,EAASvB,GAAuB,IAApBwB,EAAexB,EAAfwB,gBAClCC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,IAGtBI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAcC,aAAaC,QAAQ,eACrCF,IACFF,EAASE,GACTR,EAAgB,CAAEK,MAAOG,IAE7B,GAAG,CAACR,IAcJ,OACEX,EAAAA,EAAAA,MAAA,QAAMsB,SAba,SAAAC,GACnBA,EAAEC,iBAEFb,EAAgB,CAAEK,MAAAA,IAElBI,aAAaK,QAAQ,cAAeT,EACtC,EAO+BtB,SAAA,EAC3BH,EAAAA,EAAAA,KAAA,SACEC,UAAWC,EAAAA,YACXiC,KAAK,OACLC,YAAY,aACZC,WAAS,EACTC,MAAOb,EACPc,SAZqB,SAAHlC,GAA+B,IAAfiC,EAAKjC,EAAfmC,OAAUF,MACtCZ,EAASY,EACX,KAYItC,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAAA,aAAkBiC,KAAK,SAASM,UAAWhB,EAAMtB,SAAC,aAK3E,C,aClCe,SAASuC,IACtB,IAAArB,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCxB,EAAM0B,EAAA,GAAEoB,EAASpB,EAAA,GACxBqB,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAtB,EAAAA,EAAAA,GAAAoB,EAAA,GAAlDG,EAAYD,EAAA,GAAE1B,EAAe0B,EAAA,GAiBpC,OAfAnB,EAAAA,EAAAA,YAAU,WACR,IAAMqB,EAAeD,EAAaE,IAAI,SACtC,GAAKD,EAAL,CAEA,IAAME,EAAiB,eAAAtD,GAAAuD,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEKC,EAAAA,EAAAA,IAAgBV,GAAc,KAAD,EAAlDM,EAAYC,EAAAI,KAClBhB,EAAUW,GAAcC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAExBM,QAAQC,IAAGP,EAAAK,IAAQ,yBAAAL,EAAAQ,OAAA,GAAAV,EAAA,kBAEtB,kBAPsB,OAAAzD,EAAAoE,MAAA,KAAAC,UAAA,KAQvBf,GAVyB,CAW3B,GAAG,CAACH,KAGFtC,EAAAA,EAAAA,MAAAyD,EAAAA,SAAA,CAAA/D,SAAA,EACEH,EAAAA,EAAAA,KAACmB,EAAS,CAACC,gBAAiBA,IAC3BvB,EAAOsE,OAAS,IAAKnE,EAAAA,EAAAA,KAACL,EAAAA,EAAS,CAACE,OAAQA,MAG/C,C,+LChCAuE,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,mCACHC,EAAiB,eAAA1E,GAAAuD,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAkB,EAAAC,EAAA,OAAApB,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACRW,EAAAA,EAAAA,IAAU,+BAADtD,OAAgCuD,IAAW,KAAD,EAA9D,OAA8DE,EAAAhB,EAAAI,KAAlEa,EAAID,EAAJC,KAAIjB,EAAAkB,OAAA,SAELD,EAAKE,SAAO,wBAAAnB,EAAAQ,OAAA,GAAAV,EAAA,KACpB,kBAJ6B,OAAAzD,EAAAoE,MAAA,KAAAC,UAAA,KAMjBP,EAAe,eAAArD,GAAA8C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAuB,EAAMlD,GAAK,IAAAmD,EAAAJ,EAAA,OAAApB,IAAAA,MAAA,SAAAyB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,cAAAoB,EAAApB,KAAA,EACjBW,EAAAA,EAAAA,IAAU,wBAADtD,OACNuD,EAAO,WAAAvD,OAAUW,EAAK,+CAC9C,KAAD,EAFW,OAEXmD,EAAAC,EAAAlB,KAFOa,EAAII,EAAJJ,KAAIK,EAAAJ,OAAA,SAILD,EAAKE,SAAO,wBAAAG,EAAAd,OAAA,GAAAY,EAAA,KACpB,gBAN2BG,GAAA,OAAAzE,EAAA2D,MAAA,KAAAC,UAAA,KAQfc,EAAY,eAAAC,GAAA7B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA6B,EAAMC,GAAO,IAAAC,EAAAX,EAAA,OAAApB,IAAAA,MAAA,SAAAgC,GAAA,cAAAA,EAAA5B,KAAA4B,EAAA3B,MAAA,cAAA2B,EAAA3B,KAAA,EAChBW,EAAAA,EAAAA,IAAU,SAADtD,OACrBoE,EAAO,aAAApE,OAAYuD,EAAO,oBACnC,KAAD,EAFW,OAEXc,EAAAC,EAAAzB,KAFOa,EAAIW,EAAJX,KAAIY,EAAAX,OAAA,SAILD,GAAI,wBAAAY,EAAArB,OAAA,GAAAkB,EAAA,KACZ,gBANwBI,GAAA,OAAAL,EAAAhB,MAAA,KAAAC,UAAA,KAQZqB,EAAY,eAAAC,GAAApC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAoC,EAAMN,GAAO,IAAAO,EAAAjB,EAAA,OAAApB,IAAAA,MAAA,SAAAsC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAjC,KAAA,EAChBW,EAAAA,EAAAA,IAAU,SAADtD,OACrBoE,EAAO,qBAAApE,OAAoBuD,EAAO,oBAC3C,KAAD,EAFW,OAEXoB,EAAAC,EAAA/B,KAFOa,EAAIiB,EAAJjB,KAAIkB,EAAAjB,OAAA,SAILD,EAAKmB,MAAI,wBAAAD,EAAA3B,OAAA,GAAAyB,EAAA,KACjB,gBANwBI,GAAA,OAAAL,EAAAvB,MAAA,KAAAC,UAAA,KAOZ4B,EAAe,eAAAC,GAAA3C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA2C,EAAMb,GAAO,IAAAc,EAAAxB,EAAA,OAAApB,IAAAA,MAAA,SAAA6C,GAAA,cAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAAwC,EAAAxC,KAAA,EACnBW,EAAAA,EAAAA,IAAU,SAADtD,OACrBoE,EAAO,qBAAApE,OAAoBuD,EAAO,oBAC3C,KAAD,EAFW,OAEX2B,EAAAC,EAAAtC,KAFOa,EAAIwB,EAAJxB,KAAIyB,EAAAxB,OAAA,SAILD,EAAKE,SAAO,wBAAAuB,EAAAlC,OAAA,GAAAgC,EAAA,KACpB,gBAN2BG,GAAA,OAAAJ,EAAA9B,MAAA,KAAAC,UAAA,I","sources":["webpack://react-homework-template/./src/components/FilmList/FilmList.module.css?b497","components/FilmList/FilmList.jsx","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.jsx","pages/Movies/Movies.jsx","services/MoviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"filmList\":\"FilmList_filmList__-Jt7D\",\"filmItem\":\"FilmList_filmItem__0hLrq\",\"filmTitle\":\"FilmList_filmTitle__Qz0ui\"};","import { useLocation, Link } from 'react-router-dom';\nimport css from './FilmList.module.css';\n\nexport default function FilmsList({ movies }) {\n  const location = useLocation();\n\n  return (\n    <ul className={css.filmList}>\n      {movies.map(({ id, poster_path, original_title }) => (\n        <li key={id} className={css.filmItem}>\n          <Link state={{ from: location }} to={`/movies/${id}`}>\n            <img\n              className={css.filmImg}\n              src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n              alt={original_title}\n               width=\"450\"\n               height=\"450\"\n            />\n            <p className={css.filmTitle}>{original_title}</p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from 'react';\nimport css from './SearchBar.module.css';\n\nexport default function SearchBar({ setSearchParams }) {\n  const [query, setQuery] = useState('');\n\n  \n  useEffect(() => {\n    const storedQuery = localStorage.getItem('searchQuery');\n    if (storedQuery) {\n      setQuery(storedQuery);\n      setSearchParams({ query: storedQuery });\n    }\n  }, [setSearchParams]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    setSearchParams({ query });\n    \n    localStorage.setItem('searchQuery', query);\n  };\n\n  const handleSearchParams = ({ target: { value } }) => {\n    setQuery(value);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        className={css.inputSearch}\n        type=\"text\"\n        placeholder=\"Name movie\"\n        autoFocus\n        value={query}\n        onChange={handleSearchParams}\n      />\n      <button className={css.searchButton} type=\"submit\" disabled={!query}>\n        Search\n      </button>\n    </form>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMovieByQuery } from 'services/MoviesApi';\n\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport FilmsList from 'components/FilmList/FilmList';\n\n\nexport default function Movies  ()  {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const currentQuery = searchParams.get('query');\n    if (!currentQuery) return;\n\n    const fetchMovieByQuery = async () => {\n      try {\n        const movieByQuery = await getMovieByQuery(currentQuery);\n        setMovies(movieByQuery);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchMovieByQuery();\n  }, [searchParams]);\n\n  return (\n    <>\n      <SearchBar setSearchParams={setSearchParams} />\n      {movies.length > 0 && <FilmsList movies={movies} />}\n    </>\n  );\n};\n\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '004d8f1526603c0871e94599cf2fa833';\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(`trending/movie/week?api_key=${API_KEY}`);\n\n  return data.results;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await axios.get(\n    `search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n\n  return data.results;\n};\n\nexport const getMovieById = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return data;\n};\n\nexport const getCastMovie = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return data.cast;\n};\nexport const getReviewsMovie = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n\n  return data.results;\n};\n"],"names":["FilmsList","_ref","movies","location","useLocation","_jsx","className","css","children","map","_ref2","id","poster_path","original_title","_jsxs","Link","state","from","to","concat","src","alt","width","height","SearchBar","setSearchParams","_useState","useState","_useState2","_slicedToArray","query","setQuery","useEffect","storedQuery","localStorage","getItem","onSubmit","e","preventDefault","setItem","type","placeholder","autoFocus","value","onChange","target","disabled","Movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","currentQuery","get","fetchMovieByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","movieByQuery","_context","prev","next","getMovieByQuery","sent","t0","console","log","stop","apply","arguments","_Fragment","length","axios","API_KEY","getTrendingMovies","_yield$axios$get","data","abrupt","results","_callee2","_yield$axios$get2","_context2","_x","getMovieById","_ref3","_callee3","movieId","_yield$axios$get3","_context3","_x2","getCastMovie","_ref4","_callee4","_yield$axios$get4","_context4","cast","_x3","getReviewsMovie","_ref5","_callee5","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}